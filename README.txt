Приложения для OAuth авторизации в соц сети vk.com

При первом посещении приложение перенаправляет пользователя на авторизацию на сервера VK. 

После авторизации access_token сохраняется в атрибутах "сессии". 

Далее авторизации приложение запрашивает список друзей пользователя и выводит на экран 5 случайных аккаунтов(фото, имя + фамилия, ссылка на страницу)

При последующих запросах к приложению access_token берется из атрибутов "сессии". 

После бездействия пользователя около получаса сессия уничтожается. 

Если после удаление "сессии" пользователь запрашивает приложение, то приложение запрашивает access_token с серверов VK, но уже без авторизации пользователя